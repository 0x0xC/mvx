specVersion: 0.0.4
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Bank
    network: arbitrum-one
    source:
      address: "0x36a39a2F2461B68273000883e745C3f06cb77d63"
      abi: Bank
      startBlock: 68634717
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - ClearFunds
        - Deposit
        - EmergencyHaltGame
        - MaxWinChanged
        - OwnershipTransferred
        - PayFunds
        - ReserveFunds
        - UpdateGames
        - UpdateGuardian
        - UpdateUser
        - Withdraw
      abis:
        - name: Bank
          file: ./abis/Bank.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        - event: ClearFunds(indexed address,uint256)
          handler: handleClearFunds
        - event: Deposit(indexed address,uint256,uint256)
          handler: handleDeposit
        - event: EmergencyHaltGame(indexed address)
          handler: handleEmergencyHaltGame
        - event: MaxWinChanged(uint256,uint256)
          handler: handleMaxWinChanged
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: PayFunds(indexed address,indexed address,uint256)
          handler: handlePayFunds
        - event: ReserveFunds(indexed address,uint256)
          handler: handleReserveFunds
        - event: UpdateGames(indexed address,bool)
          handler: handleUpdateGames
        - event: UpdateGuardian(indexed address,bool)
          handler: handleUpdateGuardian
        - event: UpdateUser(indexed address,bool)
          handler: handleUpdateUser
        - event: Withdraw(indexed address,uint256,uint256)
          handler: handleWithdraw
      file: ./src/bank.ts
  - kind: ethereum
    name: Referral
    network: arbitrum-one
    source:
      address: "0xCC8cC68c533D984bfCE8188722608f867BB26C4c"
      abi: Referral
      startBlock: 68634717
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - CreateReferralCode
        - OwnershipTransferred
        - UpdateCommission
        - UpdateGame
        - UpdateReferralCodeByUser
      abis:
        - name: Referral
          file: ./abis/Referral.json
      eventHandlers:
        - event: CreateReferralCode(address,uint256,string)
          handler: handleCreateReferralCode
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: UpdateCommission(uint256,uint256)
          handler: handleUpdateCommission
        - event: UpdateGame(address,bool)
          handler: handleUpdateGame
        - event: UpdateReferralCodeByUser(address,string)
          handler: handleUpdateReferralCodeByUser
      file: ./src/referral.ts
  - kind: ethereum
    name: DiceV1
    network: arbitrum-one
    source:
      address: "0x5088Cd4ad01D7F3EEEF59633868d48b1b2Bd52bB"
      abi: DiceV1
      startBlock: 68634717
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        # - DeductVRFFee
        # - EmergencyHalted
        # - EmergencyStopped
        - NewBet
        - NewBetResult
        # - OwnershipTransferred
        # - ReceiveRandomness
        # - RequestRandomness
        # - TopUpVRF
        # - UpdateBankroll
        # - UpdateChainlinkSettings
        # - UpdateFeeRouter
        # - UpdateGameSettings
        # - UpdateGasStation
        # - UpdateGuardian
        # - UpdateMinBet
        # - UpdateReferral
        # - UpdateSwapImplementation
      abis:
        - name: DiceV1
          file: ./abis/Dice/DiceV1.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        # - event: DeductVRFFee(uint256,uint256)
        #   handler: handleDeductVRFFee
        # - event: EmergencyHalted()
        #   handler: handleEmergencyHalted
        # - event: EmergencyStopped()
        #   handler: handleEmergencyStopped
        - event: NewBet(indexed address,indexed uint256,address,uint256,uint256,uint256,uint256)
          handler: handleNewBet
        - event: NewBetResult(indexed address,indexed uint256,uint256,bool,uint256,uint256,address,uint256,uint256)
          handler: handleNewBetResult
        # - event: OwnershipTransferred(indexed address,indexed address)
        #   handler: handleOwnershipTransferred
        # - event: ReceiveRandomness(uint256,uint256[])
        #   handler: handleReceiveRandomness
        # - event: RequestRandomness(uint256,uint32)
        #   handler: handleRequestRandomness
        # - event: TopUpVRF(uint256)
        #   handler: handleTopUpVRF
        # - event: UpdateBankroll(address)
        #   handler: handleUpdateBankroll
        # - event: UpdateChainlinkSettings(address,uint64,bytes32,uint256,uint256)
        #   handler: handleUpdateChainlinkSettings
        # - event: UpdateFeeRouter(address)
        #   handler: handleUpdateFeeRouter
        # - event: UpdateGameSettings(uint256)
        #   handler: handleUpdateGameSettings
        # - event: UpdateGasStation(address)
        #   handler: handleUpdateGasStation
        # - event: UpdateGuardian(address,bool)
        #   handler: handleUpdateGuardian
        # - event: UpdateMinBet(address)
        #   handler: handleUpdateMinBet
        # - event: UpdateReferral(address)
        #   handler: handleUpdateReferral
        # - event: UpdateSwapImplementation(address)
        #   handler: handleUpdateSwapImplementation
      file: ./src/Dice/diceV1.ts
  - kind: ethereum
    name: RouletteV1
    network: arbitrum-one
    source:
      address: "0xFB4CA535E048bdc881317091b937c911572BB73F"
      abi: RouletteV1
      startBlock: 68634717
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        # - DeductVRFFee
        # - EmergencyHalted
        # - EmergencyStopped
        - NewBet
        - NewBetResult
        # - OwnershipTransferred
        # - ReceiveRandomness
        # - RequestRandomness
        # - TopUpVRF
        # - UpdateBankroll
        # - UpdateChainlinkSettings
        # - UpdateFeeRouter
        # - UpdateGameSettings
        # - UpdateGasStation
        # - UpdateGuardian
        # - UpdateMinBet
        # - UpdateReferral
        # - UpdateSwapImplementation
      abis:
        - name: RouletteV1
          file: ./abis/Roulette/RouletteV1.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        # - event: DeductVRFFee(uint256,uint256)
        #   handler: handleDeductVRFFee
        # - event: EmergencyHalted()
        #   handler: handleEmergencyHalted
        # - event: EmergencyStopped()
        #   handler: handleEmergencyStopped
        - event: NewBet(indexed address,indexed uint256,address,uint256,uint256,uint256,uint256)
          handler: handleNewBet
        - event: NewBetResult(indexed address,indexed uint256,uint256,bool,uint256,uint256,address,uint256,uint256)
          handler: handleNewBetResult
        # - event: OwnershipTransferred(indexed address,indexed address)
        #   handler: handleOwnershipTransferred
        # - event: ReceiveRandomness(uint256,uint256[])
        #   handler: handleReceiveRandomness
        # - event: RequestRandomness(uint256,uint32)
        #   handler: handleRequestRandomness
        # - event: TopUpVRF(uint256)
        #   handler: handleTopUpVRF
        # - event: UpdateBankroll(address)
        #   handler: handleUpdateBankroll
        # - event: UpdateChainlinkSettings(address,uint64,bytes32,uint256,uint256)
        #   handler: handleUpdateChainlinkSettings
        # - event: UpdateFeeRouter(address)
        #   handler: handleUpdateFeeRouter
        # - event: UpdateGameSettings(uint256)
        #   handler: handleUpdateGameSettings
        # - event: UpdateGasStation(address)
        #   handler: handleUpdateGasStation
        # - event: UpdateGuardian(address,bool)
        #   handler: handleUpdateGuardian
        # - event: UpdateMinBet(address)
        #   handler: handleUpdateMinBet
        # - event: UpdateReferral(address)
        #   handler: handleUpdateReferral
        # - event: UpdateSwapImplementation(address)
        #   handler: handleUpdateSwapImplementation
      file: ./src/Roulette/rouletteV1.ts
  - kind: ethereum
    name: CoinflipV1
    network: arbitrum-one
    source:
      address: "0xe6C3cc3B72d9e9708E234c89504717796199826E"
      abi: CoinflipV1
      startBlock: 68634000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        # - DeductVRFFee
        # - EmergencyHalted
        # - EmergencyStopped
        - NewBet
        - NewBetResult
        # - OwnershipTransferred
        # - ReceiveRandomness
        # - RequestRandomness
        # - TopUpVRF
        # - UpdateBankroll
        # - UpdateChainlinkSettings
        # - UpdateFeeRouter
        # - UpdateGameSettings
        # - UpdateGasStation
        # - UpdateGuardian
        # - UpdateMinBet
        # - UpdateReferral
        # - UpdateSwapImplementation
      abis:
        - name: CoinflipV1
          file: ./abis/Coinflip/CoinflipV1.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        # - event: DeductVRFFee(uint256,uint256)
        #   handler: handleDeductVRFFee
        # - event: EmergencyHalted()
        #   handler: handleEmergencyHalted
        # - event: EmergencyStopped()
        #   handler: handleEmergencyStopped
        - event: NewBet(indexed address,indexed uint256,address,uint256,uint256,uint256,uint256)
          handler: handleNewBet
        - event: NewBetResult(indexed address,indexed uint256,uint256,bool,uint256,uint256,address,uint256,uint256)
          handler: handleNewBetResult
        # - event: OwnershipTransferred(indexed address,indexed address)
        #   handler: handleOwnershipTransferred
        # - event: ReceiveRandomness(uint256,uint256[])
        #   handler: handleReceiveRandomness
        # - event: RequestRandomness(uint256,uint32)
        #   handler: handleRequestRandomness
        # - event: TopUpVRF(uint256)
        #   handler: handleTopUpVRF
        # - event: UpdateBankroll(address)
        #   handler: handleUpdateBankroll
        # - event: UpdateChainlinkSettings(address,uint64,bytes32,uint256,uint256)
        #   handler: handleUpdateChainlinkSettings
        # - event: UpdateFeeRouter(address)
        #   handler: handleUpdateFeeRouter
        # - event: UpdateGameSettings(uint256)
        #   handler: handleUpdateGameSettings
        # - event: UpdateGasStation(address)
        #   handler: handleUpdateGasStation
        # - event: UpdateGuardian(address,bool)
        #   handler: handleUpdateGuardian
        # - event: UpdateMinBet(address)
        #   handler: handleUpdateMinBet
        # - event: UpdateReferral(address)
        #   handler: handleUpdateReferral
        # - event: UpdateSwapImplementation(address)
        #   handler: handleUpdateSwapImplementation
      file: ./src/Coinflip/coinflipV1.ts
  - kind: ethereum
    name: FortuneRollV1
    network: arbitrum-one
    source:
      address: "0x25aA33cD6b52c094bb0a71Ca300dfc96186f45F7"
      abi: FortuneRollV1
      startBlock: 68634000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        # - DeductVRFFee
        # - EmergencyHalted
        # - EmergencyStopped
        - NewBet
        - NewBetResult
        # - OwnershipTransferred
        # - ReceiveRandomness
        # - RequestRandomness
        # - TopUpVRF
        # - UpdateBankroll
        # - UpdateChainlinkSettings
        # - UpdateFeeRouter
        # - UpdateGameSettings
        # - UpdateGasStation
        # - UpdateGuardian
        # - UpdateMinBet
        # - UpdateReferral
        # - UpdateSwapImplementation
      abis:
        - name: FortuneRollV1
          file: ./abis/FortuneRoll/FortuneRollV1.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        # - event: DeductVRFFee(uint256,uint256)
        #   handler: handleDeductVRFFee
        # - event: EmergencyHalted()
        #   handler: handleEmergencyHalted
        # - event: EmergencyStopped()
        #   handler: handleEmergencyStopped
        - event: NewBet(indexed address,indexed uint256,address,uint256,uint256,uint256,uint256)
          handler: handleNewBet
        - event: NewBetResult(indexed address,indexed uint256,uint256,bool,uint256,uint256,address,uint256,uint256)
          handler: handleNewBetResult
        # - event: OwnershipTransferred(indexed address,indexed address)
        #   handler: handleOwnershipTransferred
        # - event: ReceiveRandomness(uint256,uint256[])
        #   handler: handleReceiveRandomness
        # - event: RequestRandomness(uint256,uint32)
        #   handler: handleRequestRandomness
        # - event: TopUpVRF(uint256)
        #   handler: handleTopUpVRF
        # - event: UpdateBankroll(address)
        #   handler: handleUpdateBankroll
        # - event: UpdateChainlinkSettings(address,uint64,bytes32,uint256,uint256)
        #   handler: handleUpdateChainlinkSettings
        # - event: UpdateFeeRouter(address)
        #   handler: handleUpdateFeeRouter
        # - event: UpdateGameSettings(uint256)
        #   handler: handleUpdateGameSettings
        # - event: UpdateGasStation(address)
        #   handler: handleUpdateGasStation
        # - event: UpdateGuardian(address,bool)
        #   handler: handleUpdateGuardian
        # - event: UpdateMinBet(address)
        #   handler: handleUpdateMinBet
        # - event: UpdateReferral(address)
        #   handler: handleUpdateReferral
        # - event: UpdateSwapImplementation(address)
        #   handler: handleUpdateSwapImplementation
      file: ./src/FortuneRoll/fortunerollV1.ts
  - kind: ethereum
    name: RpsV1
    network: arbitrum-one
    source:
      address: "0xC8aa18E8478588Ddd8FF6A84EC987D7E55c1B49e"
      abi: RpsV1
      startBlock: 82003701
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        # - DeductVRFFee
        # - EmergencyHalted
        # - EmergencyStopped
        - NewBet
        - NewBetResult
        # - OwnershipTransferred
        # - ReceiveRandomness
        # - RequestRandomness
        # - TopUpVRF
        # - UpdateBankroll
        # - UpdateChainlinkSettings
        # - UpdateFeeRouter
        # - UpdateGameSettings
        # - UpdateGasStation
        # - UpdateGuardian
        # - UpdateMinBet
        # - UpdateReferral
        # - UpdateSwapImplementation
      abis:
        - name: RpsV1
          file: ./abis/FortuneRoll/FortuneRollV1.json
        - name: ERC20
          file: ./abis/ERC20.json
        - name: ERC20SymbolBytes
          file: ./abis/ERC20SymbolBytes.json
        - name: ERC20NameBytes
          file: ./abis/ERC20NameBytes.json
      eventHandlers:
        # - event: DeductVRFFee(uint256,uint256)
        #   handler: handleDeductVRFFee
        # - event: EmergencyHalted()
        #   handler: handleEmergencyHalted
        # - event: EmergencyStopped()
        #   handler: handleEmergencyStopped
        - event: NewBet(indexed address,indexed uint256,address,uint256,uint256,uint256,uint256)
          handler: handleNewBet
        - event: NewBetResult(indexed address,indexed uint256,uint256,bool,uint256,uint256,address,uint256,uint256)
          handler: handleNewBetResult
        # - event: OwnershipTransferred(indexed address,indexed address)
        #   handler: handleOwnershipTransferred
        # - event: ReceiveRandomness(uint256,uint256[])
        #   handler: handleReceiveRandomness
        # - event: RequestRandomness(uint256,uint32)
        #   handler: handleRequestRandomness
        # - event: TopUpVRF(uint256)
        #   handler: handleTopUpVRF
        # - event: UpdateBankroll(address)
        #   handler: handleUpdateBankroll
        # - event: UpdateChainlinkSettings(address,uint64,bytes32,uint256,uint256)
        #   handler: handleUpdateChainlinkSettings
        # - event: UpdateFeeRouter(address)
        #   handler: handleUpdateFeeRouter
        # - event: UpdateGameSettings(uint256)
        #   handler: handleUpdateGameSettings
        # - event: UpdateGasStation(address)
        #   handler: handleUpdateGasStation
        # - event: UpdateGuardian(address,bool)
        #   handler: handleUpdateGuardian
        # - event: UpdateMinBet(address)
        #   handler: handleUpdateMinBet
        # - event: UpdateReferral(address)
        #   handler: handleUpdateReferral
        # - event: UpdateSwapImplementation(address)
        #   handler: handleUpdateSwapImplementation
      file: ./src/Rps/RpsV1.ts
